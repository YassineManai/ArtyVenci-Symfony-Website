{% extends 'Admin.html.twig' %}

{% block sidebar  %} 
	<section id="sidebar">
		<a href={{path('Admin')}} class="brand">
			<i class='bx bxs-smile'></i>
			<span class="text">ArtyVenci_Admin</span>
		</a>
		<ul class="side-menu top">
			<li >
				<a href="{{path('Admin')}}">
					<i class='bx bx-user' ></i>
					<span class="text">Users</span>
				</a>
			</li>
			<li>
				<a href="{{path('AdminProds')}}">
					<i class='bx bxl-product-hunt' ></i>
					<span class="text">Products</span>
				</a>
			</li>
			<li>
				<a href="{{path('ForumsAdmin')}}">
					<i class='bx bx-message-square-detail' ></i>
					<span class="text">Forums</span>
				</a>
			</li>
			<li>
			<a href="{{path('app_event_index')}}">
					<i class='bx bx-calendar-event'></i>
					<span class="text">Events</span>
				</a>
			</li>
			<li class="active" >
				<a href="{{ path('AdminAuc') }}">

					<i class='bx bx-edit-alt' ></i>
					<span class="text">Auction</span>
				</a>
			</li>
			<li  >
				<a href="{{ path('app_list_disc') }}">
					<i class='bx bx-chat'></i>
					<span class="text">Discussion</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			<li>
				<a href="#">
					<i class='bx bxs-cog' ></i>
					<span class="text">Settings</span>
				</a>
			</li>
			<li>
				<a href={{path('login')}} class="logout">
					<i class='bx bxs-log-out-circle' ></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>

	{% endblock %}
{% block content %}
<li style="
    padding: 24px;
    background: var(--light);
    border-radius: 20px;
">
   

<div class="head-title">
			<div class="left">
					<h1 style="font-size: 30px;font-weight: 600;margin-bottom: 10px;color: var(--dark);
                   ">Table of Users</h1>
					
				</div>

                <form action="#">
				<div class="form-input" style="display: flex;align-items: center;height: 36px;width: 500px;;
">
					<input type="search" id="searchInput" placeholder="Search..." style="flex-grow: 1;padding: 0 16px;height: 100%;border: none;background: var(--grey);border-radius: 36px 0 0 36px;outline: none;width: 100%;color: var(--dark);
">
					<button type="submit" id="searchButton" class="search-btn" style=" width: 36px; height: 100%; display: flex; justify-content: center; align-items: center; background: var(--blue); color: var(--light); font-size: 18px; border: none; outline: none; border-radius: 0 36px 36px 0;
    cursor: pointer;
"><i class='bx bx-search'style="
   
" ></i></button>
				</div>
			</form>

              


                </div>
				  
      
        

<div class="table-wrapper">
   <table class="fl-table" id="userTable">
    <!-- Table header -->
    <thead>
        <tr>
            <th style="background:#144CCC;"></th>
            <th style="background:#144CCC;">Nom Action</th>
            <th style="background:#144CCC;">Start Date</th>
            <th style="background:#144CCC;">End Date</th>
            <th style="background:#144CCC;">initial Price</th>
            <th style="background:#144CCC;">Price</th>
           
            <th style="background:#144CCC;"></th>
        </tr>
    </thead>
    <!-- Table body -->
    <tbody>
        {% for auction in Auctions %}
        <tr>
            <td style=" width: 10px;"><img src="{{asset('img/UserIcon.png')}}"></td>
            <td>{{auction.nom}}</td>
            <td>{{auction.dateLancement|date('Y-m-d H:i:s')}}</td>
            <td>{{auction.dateCloture|date('Y-m-d H:i:s')}}</td>
            <td>{{auction.prixInitial}}</td>
            <td>{{auction.prixFinal}}</td>
            <td style=" width: 10px;">
                <a href={{path('user_delete',{id:auction.idAuction})}}><img src="{{asset('img/deleteUser.png')}}"></a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>


      
             <tbody>
	  	
         </table>
	
	             </div>
            </li>


			
		</main>
		<!-- MAIN -->




	
</div>
	
	</li> 

    <script>
  


    document.getElementById('searchButton').addEventListener('click', function() {
    // Get the search input value
    var searchValue = document.getElementById('searchInput').value.toLowerCase();

    // Get all table rows
    var rows = document.querySelectorAll('#userTable tbody tr');

    // Loop through each row
    rows.forEach(function(row) {
        // Get the username cell value
        var username = row.cells[1].textContent.toLowerCase();

        // Check if the username contains the search value
        if (username.includes(searchValue) || searchValue === '') {
            // Show the row if it matches the search value or search value is empty
            row.style.display = '';
        } else {
            // Hide the row if it doesn't match the search value
            row.style.display = 'none';
        }
    });
});
</script>


{% endblock %}